\usepackage{textcomp} % helps listings
\usepackage{listings}
\usepackage[T1]{fontenc} % so listings double quotes are straight
\usepackage{graphicx}
\usepackage{etex}
\usepackage{courier}
\usepackage{booktabs}
\usepackage[margin=1in]{geometry}
\usepackage[pdftex]{hyperref}
%\usepackage{enumitem}

%\newgeometry{margin=1in}
% overrides
\renewcommand{\ellipses}{\mathrel{\cdot\kern-2pt\cdot\kern-2pt\cdot}}
\renewcommand{\kallLarge}{\ballLarge}
\renewcommand{\mall}[3]{\left\langle{#3}\right\rangle_{\sf #2}}
\renewcommand{\when}[1]{\par{}\hspace{2em} when \ensuremath{#1}}
\renewcommand{\ruleAttributes}[1]{\par{}\hspace{2em} [#1]}

% \newcommand{\k@ruleLabel}[2]{%
  % \ifthenelse{\equal{#1}{}}{\mbox{\scshape #2}}{\k@withTooltip{\mbox{\scshape #2}}{Rule Label: #1}}%
% }

\makeatletter
\renewcommand{\k@ruleLabel}[2]{%
  \ifthenelse{\equal{#1}{\textbackslash !}}{\mbox{\scshape #2}}{\k@withTooltip{\mbox{\scshape #2 \kattribute{#1}}}{Rule Label: #1}}\\%
% \global\def\ignoreThisLabel{#1}%
}
\makeatother
\renewcommand{\rulebox}[1]{\par\indent\parbox{8.5in}{#1}}

\newcommand{\mycomment}[1]{#1}
\providecommand{\kctor}{}
\providecommand{\kmemo}{}
\providecommand{\kstrat}[1]{}

% configuration
\lstdefinelanguage{k}{
	morekeywords={xxxx,zzzz},
	columns=fullflexible,
	upquote=true,
	texcl=true,
	escapechar=\@,
	tabsize=2,
	basicstyle=\ttfamily,
}

\lstset{language=C}
\lstset{
	columns=fullflexible,
	upquote=true,
	texcl=true,
	escapechar=\@,
	mathescape=true,
	tabsize=2}
\lstset{basicstyle=\ttfamily}

\newcommand{\cinline}[1]{\lstinline`#1`}
\newcommand{\clisting}[1]{\lstinline`#1`}
\newcommand{\cdisplay}[1]{\lstinline`#1`}
% 
\newcommand{\kinline}[1]{\lstinline[language=k]`#1`}
\newcommand{\source}[2][]{%
	\paragraph[]{%
		\ifthenelse{\equal{#1}{}}{}{%
			(#1) %
		}%
		#2%
	}%
}
\newcommand{\fromStandard}[2]{%
\begin{tikzpicture}
    \node[comment]{\begin{minipage}{8.5in}#1 #2\end{minipage}};
  \end{tikzpicture}%
}

\newcommand{\para}[2]{%
	\S#1\thinspace \P#2%
}

\newcommand{\broken}[1]{{\color{red}#1}}
