/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

#line 3 "20001124-1.c"
struct super_block;
#line 3 "20001124-1.c"
struct inode {
   long long i_size ;
   struct super_block *i_sb ;
};
#line 8 "20001124-1.c"
struct file {
   long long f_pos ;
};
#line 12 "20001124-1.c"
struct super_block {
   int s_blocksize ;
   unsigned char s_blocksize_bits ;
   int s_hs ;
};
#line 17 "../../lib/includes/stdlib.h"
extern void exit(int status ) ;
#line 21
extern void abort(void) ;
#line 18 "20001124-1.c"
static char *isofs_bread(unsigned int block ) 
{ 

  {
#line 21
  if (block) {
#line 22
    abort();
  }
#line 23
  exit(0);
}
}
#line 26 "20001124-1.c"
static int do_isofs_readdir(struct inode *inode , struct file *filp ) 
{ int bufsize ;
  unsigned char bufbits ;
  unsigned int block ;
  unsigned int offset ;
  char *bh ;
  int hs ;

  {
#line 29
  bufsize = (inode->i_sb)->s_blocksize;
#line 30
  bufbits = (inode->i_sb)->s_blocksize_bits;
#line 32
  bh = (char *)0;
#line 35
  if (filp->f_pos >= inode->i_size) {
#line 36
    return (0);
  }
#line 38
  offset = (unsigned int )(filp->f_pos & (long long )(bufsize - 1));
#line 39
  block = (unsigned int )(filp->f_pos >> (int )bufbits);
#line 40
  hs = (inode->i_sb)->s_hs;
#line 42
  while (filp->f_pos < inode->i_size) {
#line 43
    if (! bh) {
#line 44
      bh = isofs_bread(block);
    }
#line 46
    hs = (int )((unsigned int )hs + (block << (int )bufbits));
#line 48
    if (hs == 0) {
#line 49
      (filp->f_pos) ++;
    }
#line 51
    if (offset >= (unsigned int )bufsize) {
#line 52
      offset &= (unsigned int )(bufsize - 1);
    }
#line 54
    if (*bh) {
#line 55
      (filp->f_pos) ++;
    }
#line 57
    (filp->f_pos) ++;
  }
#line 59
  return (0);
}
}
#line 62 "20001124-1.c"
struct super_block s  ;
#line 63 "20001124-1.c"
struct inode i  ;
#line 64 "20001124-1.c"
struct file f  ;
#line 66 "20001124-1.c"
int main(int argc , char **argv ) 
{ 

  {
#line 68
  s.s_blocksize = 512;
#line 69
  s.s_blocksize_bits = (unsigned char)9;
#line 70
  i.i_size = 2048LL;
#line 71
  i.i_sb = & s;
#line 72
  f.f_pos = 0LL;
#line 74
  do_isofs_readdir(& i, & f);
#line 75
  abort();
#line 76
  return (0);
}
}
