/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

typedef unsigned long size_t;
typedef unsigned int FFelem;
struct DUPFFstruct {
   int maxdeg ;
   int deg ;
   FFelem *coeffs ;
};
typedef struct DUPFFstruct *DUPFF;
extern int printf(char const   * __restrict  __format  , ...) ;
extern  __attribute__((__nothrow__)) void *malloc(size_t __size )  __attribute__((__malloc__,
__leaf__)) ;
extern  __attribute__((__nothrow__)) void *calloc(size_t __nmemb , size_t __size )  __attribute__((__malloc__,
__leaf__)) ;
extern  __attribute__((__nothrow__, __noreturn__)) void abort(void)  __attribute__((__leaf__)) ;
FFelem FFmul(FFelem x , FFelem y ) 
{ 

  {
  return (x);
}
}
int DUPFFdeg(DUPFF f ) 
{ 

  {
  return (f->deg);
}
}
DUPFF DUPFFnew(int maxdeg ) 
{ DUPFF ans ;
  void *tmp ;
  void *tmp___0 ;

  {
  tmp = malloc(sizeof(struct DUPFFstruct ));
  ans = (struct DUPFFstruct *)tmp;
  ans->coeffs = (FFelem *)0;
  if (maxdeg >= 0) {
    tmp___0 = calloc((unsigned long )(maxdeg + 1), sizeof(FFelem ));
    ans->coeffs = (FFelem *)tmp___0;
  }
  ans->maxdeg = maxdeg;
  ans->deg = -1;
  return (ans);
}
}
void DUPFFfree(DUPFF x ) 
{ 

  {
  return;
}
}
void DUPFFswap(DUPFF x , DUPFF y ) 
{ 

  {
  return;
}
}
DUPFF DUPFFcopy(DUPFF x ) 
{ 

  {
  return (x);
}
}
void DUPFFshift_add(DUPFF f , DUPFF g , int deg , FFelem coeff ) 
{ 

  {
  return;
}
}
DUPFF DUPFFexgcd(DUPFF *fcofac , DUPFF *gcofac , DUPFF f , DUPFF g ) 
{ DUPFF u ;
  DUPFF v ;
  DUPFF uf ;
  DUPFF ug ;
  DUPFF vf ;
  DUPFF vg ;
  FFelem q ;
  FFelem lcu ;
  FFelem lcvrecip ;
  FFelem p ;
  int df ;
  int dg ;
  int du ;
  int dv ;
  int tmp ;
  int tmp___0 ;
  DUPFF tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;

  {
  tmp = DUPFFdeg(g);
  tmp___0 = DUPFFdeg(f);
  printf((char const   * __restrict  )"DUPFFexgcd called on degrees %d and %d\n",
         tmp___0, tmp);
  tmp___2 = DUPFFdeg(f);
  tmp___3 = DUPFFdeg(g);
  if (tmp___2 < tmp___3) {
    tmp___1 = DUPFFexgcd(gcofac, fcofac, g, f);
    return (tmp___1);
  }
  tmp___4 = DUPFFdeg(f);
  if (tmp___4 != 2) {
    abort();
  } else {
    tmp___5 = DUPFFdeg(g);
    if (tmp___5 != 1) {
      abort();
    }
  }
  if (*(f->coeffs + 0) == 0U) {
    return (f);
  }
  p = 2U;
  df = DUPFFdeg(f);
  if (df < 0) {
    df = 0;
  }
  dg = DUPFFdeg(g);
  if (dg < 0) {
    dg = 0;
  }
  u = DUPFFcopy(f);
  v = DUPFFcopy(g);
  uf = DUPFFnew(dg);
  *(uf->coeffs + 0) = 1U;
  uf->deg = 0;
  ug = DUPFFnew(df);
  vf = DUPFFnew(dg);
  vg = DUPFFnew(df);
  *(vg->coeffs + 0) = 1U;
  vg->deg = 0;
  while (1) {
    tmp___7 = DUPFFdeg(v);
    if (! (tmp___7 > 0)) {
      break;
    }
    dv = DUPFFdeg(v);
    lcvrecip = FFmul(1U, *(v->coeffs + dv));
    while (1) {
      tmp___6 = DUPFFdeg(u);
      if (! (tmp___6 >= dv)) {
        break;
      }
      du = DUPFFdeg(u);
      lcu = *(u->coeffs + du);
      q = FFmul(lcu, lcvrecip);
      DUPFFshift_add(u, v, du - dv, p - q);
      DUPFFshift_add(uf, vf, du - dv, p - q);
      DUPFFshift_add(ug, vg, du - dv, p - q);
    }
    DUPFFswap(u, v);
    DUPFFswap(uf, vf);
    DUPFFswap(ug, vg);
  }
  tmp___8 = DUPFFdeg(v);
  if (tmp___8 == 0) {
    DUPFFswap(u, v);
    DUPFFswap(uf, vf);
    DUPFFswap(ug, vg);
  }
  DUPFFfree(vf);
  DUPFFfree(vg);
  DUPFFfree(v);
  *fcofac = uf;
  *gcofac = ug;
  return (u);
}
}
int main(void) 
{ DUPFF f ;
  DUPFF g ;
  DUPFF cf ;
  DUPFF cg ;
  DUPFF h ;
  int tmp ;
  int tmp___0 ;

  {
  f = DUPFFnew(1);
  *(f->coeffs + 1) = 1U;
  f->deg = 1;
  g = DUPFFnew(2);
  *(g->coeffs + 2) = 1U;
  g->deg = 2;
  tmp = DUPFFdeg(g);
  tmp___0 = DUPFFdeg(f);
  printf((char const   * __restrict  )"calling DUPFFexgcd on degrees %d and %d\n",
         tmp___0, tmp);
  h = DUPFFexgcd(& cf, & cg, f, g);
  return (0);
}
}
